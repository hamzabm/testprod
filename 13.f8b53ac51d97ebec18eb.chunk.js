webpackJsonp([13],{1295:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"AlertsModule",(function(){return c}));var s=o(0),r=o(10),i=o(14),n=o(230),l=o(1492),a=o(1422),c=(function(){function e(){}return e=__decorate([Object(s.NgModule)({imports:[r.CommonModule,l.a,i.FormsModule,i.ReactiveFormsModule,n.c],declarations:[a.a]})],e)})()},1422:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var s=o(0),r=o(5),i=o(238),n=o(106),l=o(14),a=(function(){function e(e,t){var o=this;this.store=e,this.fb=t,this.form=t.group({type:["",l.Validators.required],recipient:[[],l.Validators.required],message:["",l.Validators.required]}),this.type=this.form.controls.type,this.recipient=this.form.controls.recipient,this.message=this.form.controls.message,this.store.select("bookers").subscribe((function(e){e&&e.allBookersList&&(o.userList=e.allBookersList.allBookers)})),this.store.select("alerts").subscribe((function(e){e&&e.alertSent&&(o.type.setValue(0),o.recipient.reset(),o.message.reset())}))}return e.prototype.ngOnInit=function(){this.type.setValue(0),this.userList=[]},e.prototype.getUsers=function(e){this.store.dispatch({type:n.f.GET_ALL_BOOKERS,payload:{role:1==e.value?"customer":2==e.value?"driver":"fleetOwner",normalFilter:"0",currentPage:1,limit:0,isAlert:!0}})},e.prototype.onSubmit=function(e){this.store.dispatch({type:i.b.SEND_ALERTS,payload:{role:1==e.type?"customer":2==e.type?"driver":"fleetOwner",_id:e.recipient,alertMessage:e.message}}),this.userList=[]},e=__decorate([Object(s.Component)({selector:"alerts",styles:[o(1493)],template:o(1494)}),__metadata("design:paramtypes",[r.Store,l.FormBuilder])],e)})()},1492:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var s=o(6),r=o(1422),i=[{path:"",component:r.a}],n=s.d.forChild(i)},1493:function(e,t){e.exports='.category-select{min-width:100%;height:50px;border-radius:2px;border:solid 1px rgba(151,151,151,0.2);background-color:#ffffff;padding:3%}.category-select .mat-select-value-text{font-size:0.95rem;font-weight:400;font-family:Roboto, "Helvetica Neue", sans-serif;color:black}.category-select .mat-select-trigger{height:100% !important}.category-select .mat-select-underline{display:none}md-pseudo-checkbox.mat-option-pseudo-checkbox.mat-pseudo-checkbox.mat-primary{color:black !important}.mat-pseudo-checkbox-checked.mat-primary,.mat-pseudo-checkbox-indeterminate.mat-primary,.mat-primary .mat-pseudo-checkbox-checked,.mat-primary .mat-pseudo-checkbox-indeterminate{background:#136a8a !important}.mat-pseudo-checkbox{border:2px solid #ffd026 !important;background-color:transparent !important}\n'},1494:function(e,t){e.exports='<div class="container-fluid">\n    <div class="row" style="margin-top:2%">\n        <label class="dashboard-label">Alerts</label>\n    </div>\n    <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form-horizontal form-position">\n        <div class="row" style="margin-top:4%">\n            <div class="col-xl-5 col-lg-6 col-md-6 colsm-9">\n                <div class="card">\n                    <div class="card-body" style="padding:8%">\n                        <div class="row">\n                            <div class="col-12">\n                                <label class="text-box-label">Select User Type</label>\n                                <md-select class="category-select" [formControl]="type" (change)="getUsers(type)">\n                                    <md-option [value]="0" style="color:grey" disabled>\n                                       Select user type\n                                    </md-option>\n                                    <md-option [value]="1" style="color:black">\n                                        Booker\n                                    </md-option>\n                                    <md-option [value]="2" style="color:black">\n                                        Driver\n                                    </md-option>\n                                    <md-option [value]="3" style="color:black">\n                                        Fleet Owner\n                                    </md-option>\n                                </md-select>\n                                <div class="error-message" *ngIf="form.controls[\'type\'].errors?.required && (!form.controls[\'type\'].pristine || submitted)">User type is required</div>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-12">\n                                <label class="text-box-label">Select Recipient</label>\n                                <md-select class="category-select" [formControl]="recipient" multiple>\n                                    <md-option *ngFor="let user of userList" [value]="user._id" style="color:black" >\n                                        {{ user.name }} {{user.lastName}}\n                                    </md-option>\n                                </md-select>\n                                <div class="error-message" *ngIf="form.controls[\'recipient\'].errors?.required && (!form.controls[\'recipient\'].pristine || submitted)">Recipient is required</div>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-12">\n                                <label class="text-box-label">Message</label>\n                                <textarea style="height: 130px;" type="text" class="input-box" placeholder="Message" [formControl]="message"></textarea>\n                                <div class="error-message" *ngIf="form.controls[\'message\'].errors?.required && (!form.controls[\'message\'].pristine || submitted)">Message is required</div>\n                            </div>\n                        </div>\n\n                        <div class="row" style="padding-top: 5%;">\n                            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex justify-content-start" style="padding-right:0%">\n                                <button type="submit" class="wide-submit-btn" style="width: 96%;">Send</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>'}});