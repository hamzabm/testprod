webpackJsonp([9],{1284:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o.d(e,"BookersModule",(function(){return h}));var a=o(0),s=o(10),i=o(18),n=o(14),r=o(230),l=o(578),d=o(229),c=o(6),m=o(1440),u=o(1444),p=o(1390),f=o(1391),h=(function(){function t(){}return t=__decorate([Object(a.NgModule)({imports:[s.CommonModule,n.FormsModule,i.e,r.a,r.b,r.c,n.ReactiveFormsModule,l.a,m.a,c.d,d.a],declarations:[u.a,p.a,f.a],entryComponents:[f.a]})],t)})()},1390:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var a=o(0),s=o(5),i=o(106),n=o(18),r=o(1391),l=o(579),d=o(580),c=(function(){function t(t,e,o){var a=this;this.store=t,this.modalService=e,this.activeModal=o,this.filter=0,this.isStarredBooker=[],this.page=1,this.limit=10,this.store.select("bookers").subscribe((function(t){t&&t.allBookersList&&(a.allBookersList=t.allBookersList.allBookers,a.count=t.allBookersList.count)}))}return t.prototype.ngOnInit=function(){this.getAllBookers(this.page)},t.prototype.getAllBookers=function(t){this.store.dispatch({type:i.f.GET_ALL_BOOKERS,payload:{role:"customer",normalFilter:this.selectedFilter?this.selectedFilter:"0",currentPage:t,limit:this.limit}})},t.prototype.pageChanged=function(t){this.page=t,this.getAllBookers(this.page)},t.prototype.openEditModal=function(t){this.modalService.open(r.a).componentInstance.customerData={data:t,filter:this.selectedFilter?this.selectedFilter:"0",page:this.page}},t.prototype.changeFilter=function(t){this.selectedFilter=t,this.store.dispatch({type:i.f.GET_ALL_BOOKERS,payload:{role:"customer",normalFilter:t,currentPage:1,limit:this.limit}}),this.pageChanged(1)},t.prototype.makeStarredUnstarred=function(t,e){this.dataToSend={role:"customer",userId:t._id,makeStarred:0==e,page:this.page,filter:this.selectedFilter?this.selectedFilter:"0"},this.store.dispatch({type:i.f.MAKE_STARRED,payload:this.dataToSend})},t.prototype.openBlockModal=function(t){this.modalService.open(l.a).componentInstance.userData={userType:"booker",userId:t._id,isBlocked:t.isBlocked,filter:this.selectedFilter?this.selectedFilter:"0",page:this.page}},t.prototype.openAdvertisementModal=function(){this.modalService.open(d.a,{size:"lg"}).componentInstance.userType="customer"},t.prototype.verifyBooker=function(t){console.log("data>>>>>>>>>>>>",t),this.dataToSend={_id:t._id},this.store.dispatch({type:i.f.VERIFY_BOOKER,payload:this.dataToSend})},t=__decorate([Object(a.Component)({selector:"bookers-list",styles:[o(1442)],template:o(1443)}),__metadata("design:paramtypes",[s.Store,n.d,n.b])],t)})()},1391:function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));var a=o(0),s=o(5),i=o(18),n=o(6),r=o(19),l=o(106),d=o(14),c=o(143),m=(function(){function t(t,e,o,a,s){var i=this;this.store=t,this.activeModal=e,this.router=o,this.toastrService=a,this.fb=s,this.country=[{code:"+977",name:"Nepal"},{code:"+91",name:"India"}],this.store.select("bookers").subscribe((function(t){console.log("res>>>>>.",t),i.activeModal.close()})),this.form=s.group({firstName:["",d.Validators.required],lastName:["",d.Validators.required],email:["",d.Validators.compose([d.Validators.required,c.a.email])],countryCode:["+977",d.Validators.required],phone:["",d.Validators.required],bidTime:["",d.Validators.required]}),this.firstName=this.form.controls.firstName,this.lastName=this.form.controls.lastName,this.email=this.form.controls.email,this.countryCode=this.form.controls.countryCode,this.phone=this.form.controls.phone,this.bidTime=this.form.controls.bidTime}return t.prototype.ngOnInit=function(){this.firstName.setValue(this.customerData.data.name),this.lastName.setValue(this.customerData.data.lastName),this.email.setValue(this.customerData.data.email),this.countryCode.setValue(this.customerData.data.countryCode),this.phone.setValue(this.customerData.data.mobile),this.bidTime.setValue(this.customerData.data.bidTime?this.customerData.data.bidTime:0)},t.prototype.onSubmit=function(t){if(1==this.customerData.data.isStarredByAdmin&&t.bidTime<1)return void this.toastrService.error("Bid cut off time cannot be zero.");this.dataToSend={name:t.firstName,lastName:t.lastName,email:t.email,mobile:t.phone,countryCode:t.countryCode,_id:this.customerData.data._id,page:this.customerData.page,filter:this.customerData.filter},1==this.customerData.data.isStarredByAdmin&&(this.dataToSend.bidTime=t.bidTime,this.dataToSend.customerId=this.customerData.data.customerId),this.form.valid&&this.store.dispatch({type:l.f.UPDATE_BOOKER_DETAILS,payload:this.dataToSend})},t.prototype.closeModal=function(){this.activeModal.close()},t=__decorate([Object(a.Component)({selector:"edit-booker-details-modal",template:o(1441)}),__metadata("design:paramtypes",[s.Store,i.b,n.c,r.b,d.FormBuilder])],t)})()},1440:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var a=o(6),s=o(1390),i=[{path:"",component:s.a}],n=a.d.forChild(i)},1441:function(t,e){t.exports='<div style="padding:1%">\n    <button class="close" aria-label="Close" (click)="closeModal()">\n        <span aria-hidden="true">&times;</span>\n    </button>\n    <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form-horizontal form-position">\n        <div style="padding-left: 14%;padding-right: 14%;padding-top: 7%;padding-bottom: 7%;">\n            <div class="row">\n                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex justify-content-center">\n                    <label class="modal-label-heading">Edit Details</label>\n                </div>\n            </div>\n            <div class="row" style="margin-top:5%">\n                <div class="col-12">\n                    <label class="text-box-label">First Name</label>\n                    <input type="text" class="input-box" placeholder="First Name" [formControl]="firstName" autocomplete="off1" minlength = "3">\n                     \x3c!-- Assigning Some random value to autocomplete because autocomplete = "off" does not works in chrome in some cases --\x3e\n                    <div class="error-message" *ngIf="form.controls[\'firstName\'].errors?.required && (!form.controls[\'firstName\'].pristine)">First name is required</div>\n                    <div class="error-message" *ngIf="form.controls[\'firstName\'].errors?.minlength && (!form.controls[\'firstName\'].pristine)">First name should be atleast 3 characters long.</div>\n                </div>\n            </div>\n            <div class="row" style="margin-top:5%">\n                <div class="col-12">\n                    <label class="text-box-label">Last Name</label>\n                    <input type="text" class="input-box" placeholder="Last Name" [formControl]="lastName" autocomplete="off2">\n                    <div class="error-message" *ngIf="form.controls[\'lastName\'].errors?.required && (!form.controls[\'lastName\'].pristine)">Last name is required</div>\n                </div>\n            </div>\n            <div class="row" style="margin-top:5%">\n                <div class="col-12">\n                    <label class="text-box-label">Email</label>\n                    <input type="text" class="input-box" placeholder="Email Id" [formControl]="email" autocomplete="off3">\n                    <div class="error-message" *ngIf="form.controls[\'email\'].errors?.required && (!form.controls[\'email\'].pristine)">Email Id is required</div>\n                    <div class="error-message" *ngIf="form.controls[\'email\'].errors?.invalid && (!form.controls[\'email\'].pristine)">Invalid Email Id</div>\n                </div>\n            </div>\n            <div class="row" style="margin-top:5%">\n                <div class="col-12">\n                    <label class="text-box-label">Phone</label>\n                </div>\n                <div class="col-5">\n                    <md-select class="input-box" style="padding: 6%;" [formControl]="countryCode">\n                        <md-option *ngFor="let country of country" style="color:black" [value]="country.code">{{country.name}} ({{country.code}})</md-option>\n                    </md-select>\n                </div>\n                <div class="col-7">\n                    <input type="text" onlyNumbers class="input-box" placeholder="Phone" [formControl]="phone" maxlength="10" autocomplete="off4">\n                    <div class="error-message" *ngIf="form.controls[\'phone\'].errors?.required && (!form.controls[\'phone\'].pristine)">Phone is required</div>\n                </div>\n            </div>\n            <div class="row" style="margin-top:5%" *ngIf = "customerData.data.isStarredByAdmin == true">\n                <div class="col-12">\n                    <label class="text-box-label">Bid Cut Off Time (in min(s))</label>\n                    <input onlyNumbers type="text" class="input-box" placeholder="Bid cut off time" [formControl]="bidTime" maxlength="3" autocomplete="off5">\n                    <div class="error-message" *ngIf="form.controls[\'bidTime\'].errors?.required && (!form.controls[\'bidTime\'].pristine)">Bid time is required</div>\n                </div>\n            </div>\n\n            <div class="row" style="padding-top: 11%;">\n                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex justify-content-start" style="padding-right:0%">\n                    <button type="submit" class="wide-submit-btn" style="width: 96%;">Update</button>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>'},1442:function(t,e){t.exports=".commissionSpan{font-family:Nunito;font-size:12px;font-weight:600;color:#262729;text-transform:uppercase}.plus-icon{padding-bottom:2%}\n"},1443:function(t,e){t.exports='<div class="container-fluid">\n    <div class="row">\n        <div class="col-7 d-flex align-items-center">\n            <label class="dashboard-label">Bookers</label>\n        </div>\n        <div class="col-2 d-flex align-items-center">\n            <md-select class="filter" (change)="changeFilter(filter)" [(ngModel)]=\'filter\'>\n                <md-option [value]="0" style="color:black">All</md-option>\n                <md-option [value]="1" style="color:black">Blocked</md-option>\n                <md-option [value]="2" style="color:black">Unblocked</md-option>\n                <md-option [value]="3" style="color:black">Starred</md-option>\n            </md-select>\n        </div>\n        <div class="col-3 d-flex align-items-center">\n            <button type="button" class="wide-submit-btn" (click) = "openAdvertisementModal()">\n                <img src="../assets/img/plus.svg" class="plus-icon">&nbsp;&nbsp;&nbsp;Advertisement</button>\n        </div>\n    </div>\n    <br>\n\n    <table class="table table-hover table-responsive">\n        <thead>\n            <tr class="row-bottom-border">\n                <th></th>\n                <th>Booker Id</th>\n                <th>First Name</th>\n                <th>Last Name</th>\n                <th>Email</th>\n                <th>Phone</th>\n                <th>Commission</th>\n                <th>Status</th>\n                <th>Action</th>\n\n            </tr>\n        </thead>\n        <tbody>\n            <tr class="row-bottom-border" *ngFor="let data of allBookersList | paginate: { itemsPerPage: limit, currentPage: page, totalItems: count }; let i = index">\n                <td >\n                    <span (click)="makeStarredUnstarred(data,0)" *ngIf="!data.isStarredByAdmin" style="cursor:pointer">\n                        <img src="../assets/img/star-unselected.svg">\n                    </span>\n                    <span (click)="makeStarredUnstarred(data,1)" *ngIf="data.isStarredByAdmin" style="cursor:pointer">\n                        <img src="../assets/img/star.svg">\n                    </span>\n                </td>\n                <td >{{data.customId ? data.customId: \'--\'}}</td>\n                <td >{{data.name}}</td>\n                <td >{{data.lastName}}</td>\n                <td >{{data.email}}</td>\n                <td >{{data.countryCode}} {{data.mobile}}</td>\n                <td >NPR {{data.commissionAmount ? data.commissionAmount  : 0}}</td>\n                <td >\n                    <span *ngIf="!data.isBlocked">Unblocked</span>\n                    <span *ngIf="data.isBlocked">Blocked</span>\n                </td>\n                <td style="width:10%">\n                    <div class="dropdown">\n                        <img src="../assets/img/dots.svg" style="cursor:pointer">\n                        <div class="dropdown-content">\n                            <a (click)="openEditModal(data)">Edit\n                                <i class="fa fa-pencil-square-o black-fa-fa" aria-hidden="true"></i>\n                            </a>\n                            <a (click)="verifyBooker(data)">\n                                <span *ngIf="!data.isAdminVerified">Verify\n                                    <i class="fa fa-check-circle-o black-fa-fa" aria-hidden="true"></i>\n                                </span>\n                            </a>\n                            <a>\n                                <span *ngIf="data.isAdminVerified">Verified\n                                    <i class="fa fa-check-circle-o black-fa-fa" aria-hidden="true"></i>\n                                </span>\n                            </a>\n                            <a (click)="openBlockModal(data)">\n                                <span *ngIf="!data.isBlocked">Block\n                                    <i class="fa fa-ban black-fa-fa" aria-hidden="true"></i>\n                                </span>\n                                <span *ngIf="data.isBlocked">Unblock\n                                    <i class="fa fa-unlock black-fa-fa" aria-hidden="true"></i>\n                                </span>\n                            </a>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <div class="col col-xs-10 rar-algn">\n        <pagination-controls (pageChange)="pageChanged($event)" maxSize="5" directionLinks="true" autoHide="true" previousLabel="Previous"\n            nextLabel="Next" screenReaderPaginationLabel="Pagination" screenReaderPageLabel="page" screenReaderCurrentLabel="You\'re on page"></pagination-controls>\n    </div>\n</div>'},1444:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var a=o(0),s=o(5),i=o(6),n=o(88),r=(function(){function t(t,e,o){this.router=t,this.store=e,this._state=o}return t=__decorate([Object(a.Component)({selector:"booker-component",template:"\n              <router-outlet></router-outlet>\n\n\n            "}),__metadata("design:paramtypes",[i.c,s.Store,n.a])],t)})()}});