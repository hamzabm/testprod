webpackJsonp([12],{1298:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"AppVerisonModule",(function(){return d}));var i=o(0),s=o(10),r=o(14),n=o(1502),a=o(1426),l=o(229),d=(function(){function e(){}return e=__decorate([Object(i.NgModule)({imports:[s.CommonModule,n.a,r.FormsModule,r.ReactiveFormsModule,l.a],declarations:[a.a]})],e)})()},1426:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var i=o(0),s=o(5),r=o(240),n=o(14),a=o(19),l=(function(){function e(e,t,o){var i=this;this.store=e,this.fb=t,this.toastrService=o,this.showCashback=1,this.appVersionEdit=!1,this.store.dispatch({type:r.c.CLEAR_STORE,payload:null}),this.form=t.group({latestAndroidVerison:["",n.Validators.required],CriticalAndroidVersion:["",n.Validators.required],latestIosVerison:["",n.Validators.required],CriticalIosVersion:["",n.Validators.required],title:["",n.Validators.required],message:["",n.Validators.required],androidLink:[""],iosLink:[""]}),this.latestAndroidVerison=this.form.controls.latestAndroidVerison,this.CriticalAndroidVersion=this.form.controls.CriticalAndroidVersion,this.latestIosVerison=this.form.controls.latestIosVerison,this.CriticalIosVersion=this.form.controls.CriticalIosVersion,this.title=this.form.controls.title,this.message=this.form.controls.message,this.androidLink=this.form.controls.androidLink,this.iosLink=this.form.controls.iosLink,this.store.select("appVersion").subscribe((function(e){e&&e.data&&(i.appVersions=e.data,i.latestAndroidVerison.setValue(i.appVersions.latestAndroidVersion),i.CriticalAndroidVersion.setValue(i.appVersions.criticalAndroidVersion),i.latestIosVerison.setValue(i.appVersions.latestIOSVersion),i.CriticalIosVersion.setValue(i.appVersions.criticalIOSVersion),i.title.setValue(i.appVersions.updateTitleAtPopup),i.message.setValue(i.appVersions.updateMessageAtPopup),i.androidLink.setValue(i.appVersions.androidAppLink),i.iosLink.setValue(i.appVersions.iosAppLink)),e&&e.updateSuccess&&1==e.updateSuccess&&(i.appVersionEdit=!1)}))}return e.prototype.ngOnInit=function(){this.getAppVersions()},e.prototype.selectionTab=function(e){1==e?(this.showCashback=1,this.getAppVersions()):2==e?(this.showCashback=2,this.getAppVersions()):3==e&&(this.showCashback=3,this.getAppVersions())},e.prototype.getAppVersions=function(){this.store.dispatch({type:r.c.GET_APP_VERSIONS,payload:{role:1==this.showCashback?"fleetOwner":2==this.showCashback?"customer":"driver"}})},e.prototype.editAppVersion=function(){this.appVersionEdit=!0},e.prototype.onSubmit=function(e){if(e.CriticalAndroidVersion>e.latestAndroidVerison||e.CriticalIosVersion>e.latestIosVerison)return void this.toastrService.error("Critical version cannot be greater than latest version.");this.dataToSend={latestAndroidVersion:e.latestAndroidVerison,criticalAndroidVersion:e.CriticalAndroidVersion,latestIOSVersion:e.latestIosVerison,criticalIOSVersion:e.CriticalIosVersion,updateTitleAtPopup:{en:e.title,ne:e.title},updateMessageAtPopup:{en:e.message,ne:e.message},role:1==this.showCashback?"fleetOwner":2==this.showCashback?"customer":"driver",id:this.appVersions._id},this.form.valid&&this.store.dispatch({type:r.c.UPDATE_APP_VERSIONS,payload:this.dataToSend})},e.prototype.cancel=function(){this.appVersionEdit=!1},e=__decorate([Object(i.Component)({selector:"app-version",styles:[o(1503)],template:o(1504)}),__metadata("design:paramtypes",[s.Store,n.FormBuilder,a.b])],e)})()},1502:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var i=o(6),s=o(1426),r=[{path:"",component:s.a}],n=i.d.forChild(r)},1503:function(e,t){e.exports=".selected{color:red}.rectangle-button{height:50px;border-radius:2px;background-color:#136a8a;font-family:Nunito;font-size:17px;color:#ffffff !important;width:15%}.rectangle-button-white{height:50px;border-radius:2px;border:solid 1px #f1f1f1;font-family:Nunito;font-size:17px;color:#616161;width:15%}\n"},1504:function(e,t){e.exports='<div class="container-fluid">\n    <div class="row" style="margin-top:2%">\n        <div class="col-5 d-flex align-items-center">\n            <label class="dashboard-label">App Versioning</label>\n        </div>\n        <div class="col-3 d-flex align-items-center justify-content-end" *ngIf = "!appVersionEdit">\n            <button class="modalSubmitBtn" (click)="editAppVersion()">Edit</button>\n        </div>\n    </div>\n    <div class="row" style="margin-top: 4%;margin-left:-1%">\n        <button type="button" class="rectangle-button-white" (click)="selectionTab(1)" [ngClass]="{\'rectangle-button\' : showCashback == 1}">Fleet Owner</button>\n        <button type="button" class="rectangle-button-white" (click)="selectionTab(2)" [ngClass]="{\'rectangle-button\' : showCashback == 2}">Booker</button>\n        <button type="button" class="rectangle-button-white" (click)="selectionTab(3)" [ngClass]="{\'rectangle-button\' : showCashback == 3}">Driver</button>\n    </div>\n    <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form-horizontal form-position">\n        <div class="row" style="margin-top: 1%;margin-left: -2%;">\n            <div class="col-xl-8 col-lg-8 col-md-12 col-sm-12">\n                <div class="card">\n                    <div class="card-body" style="padding:4% 8%">\n                        <div class="row">\n                            <div class="col-6">\n                                <label class="text-box-label">Latest Android Version</label>\n                                <input onlyNumbers type="text" class="input-box" placeholder="Latest Android Version" [readonly]="!appVersionEdit" [formControl]="latestAndroidVerison" autocomplete="off2">\n                                <div class="error-message" *ngIf="form.controls[\'latestAndroidVerison\'].errors?.required && (!form.controls[\'latestAndroidVerison\'].pristine)">Latest Android Version is required</div>\n                            </div>\n                            <div class="col-6">\n                                <label class="text-box-label">Critical Android Version</label>\n                                <input onlyNumbers type="text" class="input-box" placeholder="Critical Android Version" [readonly]="!appVersionEdit" [formControl]="CriticalAndroidVersion"\n                                    autocomplete="off3">\n                                <div class="error-message" *ngIf="form.controls[\'CriticalAndroidVersion\'].errors?.required && (!form.controls[\'CriticalAndroidVersion\'].pristine)">Critical Android Version is required</div>\n                            </div>\n                        </div>\n                        <div class="row" *ngIf="showCashback != 3">\n                            <div class="col-6">\n                                <label class="text-box-label">Latest IOS Version</label>\n                                <input onlyNumbers type="text" class="input-box" placeholder="Latest Android Version" [readonly]="!appVersionEdit" [formControl]="latestIosVerison"\n                                    autocomplete="off2">\n                                <div class="error-message" *ngIf="form.controls[\'latestIosVerison\'].errors?.required && (!form.controls[\'latestIosVerison\'].pristine)">Latest IOS Version is required</div>\n                            </div>\n                            <div class="col-6">\n                                <label class="text-box-label">Critical IOS Version</label>\n                                <input onlyNumbers type="text" class="input-box" placeholder="Critical Android Version" [readonly]="!appVersionEdit" [formControl]="CriticalIosVersion"\n                                    autocomplete="off3">\n                                <div class="error-message" *ngIf="form.controls[\'CriticalIosVersion\'].errors?.required && (!form.controls[\'CriticalIosVersion\'].pristine)">Critical IOS Version is required</div>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-6">\n                                <label class="text-box-label">Update Title At Popup</label>\n                                <input type="text" class="input-box" placeholder="Update Title At Popup" [readonly]="!appVersionEdit" [formControl]="title"\n                                    autocomplete="off2">\n                                <div class="error-message" *ngIf="form.controls[\'title\'].errors?.required && (!form.controls[\'title\'].pristine)">Update Title At Popup is required</div>\n                            </div>\n                            <div class="col-6">\n                                <label class="text-box-label">Update Message At Popup</label>\n                                <textarea type="text" class="input-box" placeholder="Update Message At Popup" [readonly]="!appVersionEdit" style="height:70px"\n                                    [formControl]="message" autocomplete="off3"></textarea>\n                                <div class="error-message" *ngIf="form.controls[\'message\'].errors?.required && (!form.controls[\'message\'].pristine)">Update Message At Popup is required</div>\n                            </div>\n                        </div>\n                        \x3c!-- <div class="row">\n                            <div class="col-6">\n                                <label class="text-box-label">Android App Link</label>\n                                <textarea type="text" class="input-box" placeholder="Android App Link" style="height:70px" [readonly]="!appVersionEdit" [formControl]="androidLink"\n                                    autocomplete="off2"></textarea>\n                                <div class="error-message" *ngIf="form.controls[\'androidLink\'].errors?.required && (!form.controls[\'androidLink\'].pristine)">Android App Link is required</div>\n                            </div>\n                            <div class="col-6" *ngIf="showCashback != 3">\n                                <label class="text-box-label">IOS App Link</label>\n                                <textarea type="text" class="input-box" placeholder="IOS App Link" style="height:70px" [readonly]="!appVersionEdit" [formControl]="iosLink"\n                                    autocomplete="off3"></textarea>\n                                <div class="error-message" *ngIf="form.controls[\'iosLink\'].errors?.required && (!form.controls[\'iosLink\'].pristine)">IOS App Link is required</div>\n                            </div>\n                        </div> --\x3e\n\n                        <div class="row" style="margin-top:3%" *ngIf = "appVersionEdit">\n                            <div class="col-6 d-flex justify-content-end">\n                                <button type="button" class="white-btn" style="height:51px; border-radius:41px;width:175px" (click)="cancel()">Cancel</button>\n                            </div>\n                            <div class="col-4">\n                                <button type="submit" class="modalSubmitBtn">Save Changes</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>'}});