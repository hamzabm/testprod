webpackJsonp([15],{1292:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),t.d(o,"CommissionModule",(function(){return d}));var r=t(0),i=t(10),n=t(1482),s=t(14),a=t(1415),l=t(229),d=(function(){function e(){}return e=__decorate([Object(r.NgModule)({imports:[i.CommonModule,s.FormsModule,s.ReactiveFormsModule,n.a,l.a],declarations:[a.a]})],e)})()},1415:function(e,o,t){"use strict";(function(e){t.d(o,"a",(function(){return d}));var r=t(0),i=t(5),n=t(228),s=t(19),a=t(6),l=t(14),d=(function(){function o(e,o,t,r,i){var n=this;this.store=e,this.route=o,this.router=t,this.fb=r,this.toastrService=i,this.form=r.group({fleetOwner:["",l.Validators.required],booker:["",l.Validators.required]}),this.fleetOwner=this.form.controls.fleetOwner,this.booker=this.form.controls.booker,this.store.select("dashBoard").subscribe((function(e){console.log("response,",e),e&&e.bidTime&&(n.adminParameters=e.bidTime[0],n.fleetOwner.setValue(n.adminParameters.fleetOwnerCommission),n.booker.setValue(n.adminParameters.bookerCommission))}))}return o.prototype.ngOnInit=function(){this.getCommission()},o.prototype.getCommission=function(){this.store.dispatch({type:n.j.GET_ADMIN_PARAMETERS,payload:{}})},o.prototype.onSubmit=function(e){if(this.submitted=!0,e.fleetOwner<0||e.booker<0)return void this.toastrService.error("Commission amount cannot be less than zero.");if(e.fleetOwner>100||e.booker>100)return void this.toastrService.error("Commission amount cannot be more than 100.");if(this.form.valid){var o=new FormData;o.append("fleetOwnerCommission",e.fleetOwner),o.append("bookerCommission",e.booker),o.append("_id",this.adminParameters._id),this.store.dispatch({type:n.j.UPDATE_ADMIN_PARAMETERS,payload:o})}},o.prototype.validateNumber=function(){e(".two-decimals").on("keypress",(function(o){var t=e(this),r=o.which?o.which:o.keyCode;if(r>31&&(r<48||r>57)&&46!=r)return!1;var i=t.val().length,n=t.val().indexOf(".");if(n>0&&46==r)return!1;if(n>0){if(i+1-n>3)return!1}return t}))},o=__decorate([Object(r.Component)({selector:"commission",template:t(1483)}),__metadata("design:paramtypes",[i.Store,a.a,a.c,l.FormBuilder,s.b])],o)})()}).call(o,t(21))},1482:function(e,o,t){"use strict";t.d(o,"a",(function(){return s}));var r=t(6),i=t(1415),n=[{path:"",component:i.a}],s=r.d.forChild(n)},1483:function(e,o){e.exports='<div class="container-fluid">\n    <div class="row" style="margin-top:2%">\n        <div class="col-10 d-flex align-items-center">\n            <label class="dashboard-label">Commission</label>\n        </div>\n    </div>\n    <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form-horizontal form-position">\n        <div class="row" style="margin-top:4%">\n            <div class="col-xl-5 col-lg-6 col-md-6 colsm-9">\n                <div class="card">\n                    <div class="card-body" style="padding:8%">\n                        <div class="row">\n                            <div class="col-11">\n                                <label class="text-box-label">Fleet Owners (%)</label>\n                                <input type="text" class="input-box two-decimals" placeholder="Percentage" [formControl]="fleetOwner" (keypress)="validateNumber($event)"> \n                                <div class="error-message" *ngIf="form.controls[\'fleetOwner\'].errors?.required && (!form.controls[\'fleetOwner\'].pristine || submitted)">Fleet owner commission is required.</div>\n                            </div>\n                        </div>\n                        <div class="row" style="margin-top:3%">\n                            <div class="col-11">\n                                <label class="text-box-label">Bookers (%)</label>\n                                <input type="text" class="input-box two-decimals" placeholder="Percentage" [formControl]="booker" (keypress)="validateNumber($event)">\n                                <div class="error-message" *ngIf="form.controls[\'booker\'].errors?.required && (!form.controls[\'booker\'].pristine || submitted)">Bookers commission is required.</div>\n                            </div>\n                        </div>\n\n                        <div class="row" style="padding-top: 5%;">\n                            <div class="col-11 d-flex justify-content-start" style="padding-right:0%">\n                                <button type="submit" class="wide-submit-btn" style="width: 96%;">Update</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n'}});